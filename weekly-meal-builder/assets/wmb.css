/* ============ Layout ============ */
html,body{max-width:100%;overflow-x:hidden}
#wmb *{box-sizing:border-box}
.wmb-wrapper{max-width:1200px;margin:0 auto;padding:12px}
.wmb-header{margin:12px 0 16px}
.wmb-sub{font-size:18px;color:#333;opacity:.9}
.wmb-banner{margin-top:8px;color:#333}

/* Filters */
.wmb-filters{display:flex;gap:20px;flex-wrap:wrap;margin:10px 0 18px}
.wmb-filter-group{display:flex;flex-direction:column;gap:8px}
.wmb-filter-title{font-weight:600}
.wmb-chips{display:flex;flex-wrap:wrap;gap:8px}
.wmb-chip{padding:8px 12px;border-radius:999px;background:#fff;border:1px solid #e6e6ef;cursor:pointer}
.wmb-chip.is-active{background:#3535ff0f;border-color:#b9b9ff}
.wmb-chip:disabled{opacity:.5;cursor:default}
.wmb-chip-reset{color:#777}

/* Body */
.wmb-body{display:grid;grid-template-columns:1fr 320px;gap:24px;align-items:start}
@media (max-width: 980px){ .wmb-body{grid-template-columns:1fr} }

/* Catalog */
.wmb-section{margin:12px 0 24px}
.wmb-section-title{font-size:28px;margin:0 0 10px}
.wmb-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
@media (max-width: 1200px){ .wmb-grid{grid-template-columns:repeat(3,1fr)} }
@media (max-width: 900px){ .wmb-grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width: 560px){ .wmb-grid{grid-template-columns:1fr} }

/* Card */
.wmb-card{background:#fff;border:1px solid #eee;border-radius:16px;padding:16px}
.wmb-card-title{font-weight:700;font-size:20px;line-height:1.25;margin-bottom:8px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.wmb-card-title .wmb-ing-btn{font-size:14px;padding:6px 10px;border-radius:999px;border:1px solid #e6e6ef;background:#fff;cursor:pointer}
.wmb-card-meta{display:flex;gap:12px;align-items:center;margin-bottom:8px}
.wmb-unit{color:#666}
.wmb-card-tags{display:flex;flex-wrap:wrap;gap:8px;margin:4px 0 8px}
.wmb-tag{padding:6px 10px;border-radius:999px;background:#f6f6fb;border:1px solid #e6e6ef}
.wmb-allergens{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 10px}
.wmb-allergen{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:#fff;border:1px solid #e6e6ef;font-size:.9rem}
.wmb-allergen i{font-style:normal;opacity:.8}

/* Qty */
.wmb-qty{display:flex;gap:10px;align-items:center;margin-top:10px}
.wmb-qty button{width:36px;height:36px;border-radius:10px;border:1px solid #ddd;background:#fff;font-size:18px;cursor:pointer}
.wmb-qty button:disabled{opacity:.5;cursor:default}
.wmb-qty-value{min-width:20px;text-align:center;font-weight:600}

/* Sidebar */
.wmb-sidebar{position:sticky;top:12px}
.wmb-summary{background:#fff;border:1px solid #eee;border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:10px}
.wmb-summary-row{display:flex;align-items:center;justify-content:space-between}
.wmb-checkout-btn{width:100%;padding:12px 14px;border:0;border-radius:10px;background:#7b66ff;color:#fff;font-weight:700;cursor:pointer}
.wmb-checkout-btn:disabled{opacity:.5;cursor:default}

/* Sticky checkout for mobile */
.wmb-sticky{position:fixed;left:0;right:0;bottom:0;display:none;align-items:center;justify-content:space-between;gap:12px;background:#fff;border-top:1px solid #eee;padding:10px 12px;z-index:9999;box-shadow:0 -4px 10px rgba(0,0,0,.06)}
.wmb-sticky .wmb-checkout-btn{width:auto;min-width:170px}
@media (max-width:980px){
  .wmb-sticky{display:flex}
  .wmb-sidebar{display:none}
  .wmb-wrapper{padding-bottom:84px}
}

/* Empty / loading */
.wmb-empty,.wmb-loading{padding:20px;color:#666}

/* ============ Ingredients modal ============ */
#wmb-ing-modal{position:fixed;inset:0;display:none}
#wmb-ing-modal.open{display:block}
#wmb-ing-modal .back{position:absolute;inset:0;background:rgba(0,0,0,.35)}
#wmb-ing-modal .dialog{position:relative;max-width:960px;margin:60px auto;background:#fff;border-radius:24px;padding:20px}
#wmb-ing-modal .close{position:absolute;top:8px;right:12px;border:0;background:transparent;font-size:26px;cursor:pointer}
#wmb-ing-modal h3{margin:0 24px 4px 0;font-size:22px}
#wmb-ing-modal pre{margin:6px 0 0;font-family:inherit;font-size:16px;white-space:pre-wrap;overflow-wrap:anywhere;line-height:1.5}

/* Long text/scroll fix */
#wmb-ing-modal .dialog{
  max-height: calc(100vh - 120px);
  overflow: auto;
}

#wmb-ing-modal .allergy-row{margin:8px 0 0;color:#555}
#wmb-ing-modal .allergy-row .pill{display:inline-block;margin-right:6px;margin-top:6px;padding:4px 8px;border-radius:999px;background:#f6f6fb;border:1px solid #e6e6ef}
