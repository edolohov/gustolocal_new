# –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü -es –∏ -en

## ‚ö†Ô∏è –¢–ï–ö–£–©–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å, –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü `-es` –∏ `-en` –ù–ï–¢:

1. **JavaScript —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∏—Å–ø–∞–Ω—Å–∫–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/es/`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/en/`

2. **–ù–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:**
   - WordPress –∏—â–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å slug `homepage-es` –∏–ª–∏ `homepage-en`
   - –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç ‚Üí **404 –æ—à–∏–±–∫–∞** ‚ùå
   - **–ù–ï–¢ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é**

3. **–ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   - ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ 404 (Page Not Found)
   - ‚ùå –ò–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
   - ‚ùå –ù–ï –≤–∏–¥–∏—Ç —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

### –§—É–Ω–∫—Ü–∏—è `simple_page_lookup()` (—Å—Ç—Ä–æ–∫–∞ 273-341)

```php
// –î–ª—è –æ–±—ã—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
$lang_slug = $pagename . '-' . $lang;
$page = get_page_by_path($lang_slug);

if ($page) {
    // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞–π–¥–µ–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ—ë
    $query->set('page_id', $page->ID);
    // ...
}
// ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï –Ω–∞–π–¥–µ–Ω–∞ - –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç!
// WordPress –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –∏—Å–∫–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
// –†–µ–∑—É–ª—å—Ç–∞—Ç: 404 –æ—à–∏–±–∫–∞
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ù–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é.

### JavaScript —Ä–µ–¥–∏—Ä–µ–∫—Ç (—Å—Ç—Ä–æ–∫–∞ 621-638)

```javascript
function switchLanguageInUrl(url, targetLang) {
    // –ü—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ—Ç URL, –¥–æ–±–∞–≤–ª—è—è /es/ –∏–ª–∏ /en/
    // ‚ùå –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
    return domain + '/' + targetLang + path;
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** JavaScript —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ `/es/` –∏–ª–∏ `/en/`, –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–ù–û –ù–ï –ù–ê –ü–†–û–î–ï!)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

–î–æ–±–∞–≤–∏—Ç—å –≤ `simple_page_lookup()`:

```php
// –î–ª—è –æ–±—ã—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
$lang_slug = $pagename . '-' . $lang;
$page = get_page_by_path($lang_slug);

if ($page) {
    // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞–π–¥–µ–Ω–∞
    $query->set('page_id', $page->ID);
    // ...
} else {
    // ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï –Ω–∞–π–¥–µ–Ω–∞ - —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é
    $base_url = str_replace(['/es/', '/en/'], '/', home_url($_SERVER['REQUEST_URI']));
    wp_redirect($base_url, 302);
    exit;
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫–ª—é—á–∏—Ç—å JavaScript —Ä–µ–¥–∏—Ä–µ–∫—Ç –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü

–í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å JavaScript —Ä–µ–¥–∏—Ä–µ–∫—Ç:

```javascript
// –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü -es –∏ -en
/*
if (!savedLang) {
    var browserLang = getBrowserLanguage();
    // ...
}
*/
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

–ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ä—É—Å—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–æ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—á–µ—Ä–µ–∑ `translations.php`).

## üìä –¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—Ç–∞–±–ª–∏—Ü–∞)

| –°–∏—Ç—É–∞—Ü–∏—è | URL | –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç? | –ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
|----------|-----|---------------------|----------------------|
| –ò—Å–ø–∞–Ω–µ—Ü, –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç | `/es/` | ‚ùå –ù–µ—Ç | ‚ùå 404 –æ—à–∏–±–∫–∞ |
| –ò—Å–ø–∞–Ω–µ—Ü, –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç | `/` | ‚úÖ –î–∞ (—Ä—É—Å—Å–∫–∞—è) | ‚úÖ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è |
| –ò—Å–ø–∞–Ω–µ—Ü, –µ—Å—Ç—å cookie | `/es/` | ‚ùå –ù–µ—Ç | ‚ùå 404 –æ—à–∏–±–∫–∞ |
| –†—É—Å—Å–∫–∏–π, –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç | `/` | ‚úÖ –î–∞ | ‚úÖ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è |

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û

**–°–µ–π—á–∞—Å:**
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∏—Å–ø–∞–Ω—Å–∫–∏–º/–∞–Ω–≥–ª–∏–π—Å–∫–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º –ø–æ–ø–∞–¥–∞—é—Ç –Ω–∞ 404
- ‚ùå –ù–ï–¢ fallback –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é
- ‚ùå –ü–ª–æ—Ö–æ–π UX

**–ù—É–∂–Ω–æ:**
- ‚úÖ –õ–∏–±–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –õ–∏–±–æ –¥–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é
- ‚úÖ –õ–∏–±–æ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `-es` –∏ `-en`

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç –ê (–±—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å):**
1. –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å JavaScript —Ä–µ–¥–∏—Ä–µ–∫—Ç
2. –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é
3. –ü–µ—Ä–µ–≤–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ `translations.php`

**–í–∞—Ä–∏–∞–Ω—Ç –ë (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):**
1. –î–æ–±–∞–≤–∏—Ç—å fallback –≤ `simple_page_lookup()`
2. –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `-es` –∏–ª–∏ `-en` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–í–∞—Ä–∏–∞–Ω—Ç –í (–ø–æ–ª–Ω—ã–π):**
1. –°–æ–∑–¥–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `-es` –∏ `-en`
2. –¢–æ–≥–¥–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ö–∞–∂–¥—ã–π —è–∑—ã–∫ –≤–∏–¥–∏—Ç —Å–≤–æ—é –≤–µ—Ä—Å–∏—é

## üìù –í–∞–∂–Ω–æ

**–ù–ï –¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ PROD –¥–æ:**
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ STG
2. –°–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü `-es` –∏ `-en` –ò–õ–ò
3. –î–æ–±–∞–≤–ª–µ–Ω–∏—è fallback –Ω–∞ —Ä—É—Å—Å–∫—É—é –≤–µ—Ä—Å–∏—é

