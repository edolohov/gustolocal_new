# Мультиязычность WordPress + WooCommerce: Best Practices для SEO

## Проблема с GTranslate

**GTranslate использует JavaScript-перевод**, что означает:
- ❌ Поисковые системы видят только оригинальный контент
- ❌ Переведенные страницы не индексируются отдельно
- ❌ Нет отдельных URL для каждого языка
- ❌ Нет возможности настроить hreflang теги
- ❌ Плохо для SEO, особенно для международного трафика

## Правильный подход для SEO

### 1. Отдельные URL для каждого языка

✅ **У вас уже есть правильная структура:**
- `example.com/` - русский (оригинал)
- `example.com/es/` - испанский
- `example.com/en/` - английский

Это **идеально для SEO**, потому что:
- Каждый язык имеет свой URL
- Поисковики индексируют каждую версию отдельно
- Можно настроить hreflang теги
- Можно настроить разные мета-теги для каждого языка

### 2. Hreflang теги (критично для SEO)

Hreflang теги говорят Google, что страницы на разных языках - это версии одного контента. Без них Google может считать это дубликатами.

**Пример:**
```html
<link rel="alternate" hreflang="ru" href="https://example.com/page/" />
<link rel="alternate" hreflang="es" href="https://example.com/es/page/" />
<link rel="alternate" hreflang="en" href="https://example.com/en/page/" />
<link rel="alternate" hreflang="x-default" href="https://example.com/" />
```

### 3. Автоматическое определение языка

**Рекомендуемый подход:**
1. Проверяем cookie (если пользователь уже выбирал язык)
2. Проверяем Accept-Language заголовок браузера
3. Используем геолокацию (опционально)
4. По умолчанию - язык оригинала

### 4. Перевод WooCommerce страниц

**Что нужно переводить:**
- ✅ Корзина (Cart)
- ✅ Оформление заказа (Checkout)
- ✅ Личный кабинет (My Account)
- ✅ Страница благодарности (Thank You)
- ✅ Страницы товаров
- ✅ Категории товаров
- ✅ Кастомные билдеры (Weekly Meal Builder)

**У вас уже есть система переводов** в `translations.php` - это хорошо!

## Рекомендации по реализации

### Вариант 1: Улучшить текущую кастомную систему (рекомендуется)

**Плюсы:**
- ✅ Полный контроль
- ✅ Нет зависимости от плагинов
- ✅ Легко кастомизировать
- ✅ Быстрее работает

**Что нужно добавить:**
1. Hreflang теги в `<head>`
2. Автоматическое определение языка при первом визите
3. Правильные canonical теги
4. Мета-теги для каждого языка
5. XML sitemap для каждого языка

### Вариант 2: Использовать WPML или Polylang

**WPML:**
- ✅ Профессиональное решение
- ✅ Полная поддержка WooCommerce
- ✅ Автоматические hreflang теги
- ✅ SEO-friendly
- ❌ Платный (от $39/год)
- ❌ Может быть избыточным

**Polylang:**
- ✅ Бесплатный
- ✅ Хорошая поддержка WooCommerce
- ✅ SEO-friendly
- ❌ Менее функциональный чем WPML
- ❌ Может конфликтовать с кастомными решениями

### Вариант 3: Гибридный подход

Использовать GTranslate **только для быстрого прототипирования**, но для продакшена:
- Создать отдельные страницы для каждого языка
- Настроить правильную маршрутизацию
- Добавить hreflang теги
- Использовать серверные переводы (не JavaScript)

## Что нужно сделать прямо сейчас

### 1. Добавить hreflang теги

См. файл `multilang-seo-functions.php` (создан ниже)

### 2. Автоматическое определение языка

См. функцию `auto_detect_language()` в `multilang-seo-functions.php`

### 3. Правильные canonical теги

Каждая языковая версия должна иметь свой canonical URL

### 4. XML Sitemap

Создать отдельные sitemap для каждого языка или добавить языковые теги в существующий

### 5. Проверка в Google Search Console

- Добавить все языковые версии сайта
- Проверить индексацию
- Мониторить ошибки hreflang

## Технические детали

### Структура URL

```
example.com/                    → RU (оригинал)
example.com/es/                 → ES
example.com/en/                 → EN
example.com/es/cart/            → ES корзина
example.com/en/checkout/        → EN оформление
example.com/product-name/       → RU товар
example.com/es/product-name/    → ES товар
```

### Хранение переводов

**Текущий подход (словарь):**
- ✅ Просто
- ✅ Быстро
- ❌ Нужно вручную добавлять каждую строку

**Альтернатива (отдельные страницы):**
- ✅ Полный контроль над контентом
- ✅ Можно использовать разные изображения/CTA
- ❌ Больше работы по поддержке

### Перевод кастомных билдеров

Для Weekly Meal Builder нужно:
1. Переводить названия блюд (уже есть в `meal-builder-multilang.php`)
2. Переводить интерфейс билдера
3. Переводить сообщения о дедлайнах доставки
4. Переводить модалки с составом и аллергенами

## SEO Checklist

- [ ] Hreflang теги на всех страницах
- [ ] Правильные canonical теги
- [ ] Мета-теги (title, description) для каждого языка
- [ ] XML sitemap с языковыми версиями
- [ ] Правильные языковые атрибуты в HTML (`lang="es"`)
- [ ] Автоматическое определение языка
- [ ] Переключение языка сохраняется в cookie
- [ ] Все WooCommerce страницы переведены
- [ ] Кастомные билдеры переведены
- [ ] Проверка в Google Search Console
- [ ] Проверка в Google Rich Results Test

## Вывод

**GTranslate НЕ подходит для SEO**, но ваша текущая кастомная система - **отличная основа**.

**Рекомендация:** Улучшить текущую систему, добавив:
1. Hreflang теги
2. Автоматическое определение языка
3. Правильные SEO мета-теги
4. XML sitemap

Это даст вам **лучший SEO результат** без зависимости от плагинов.

