# –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Wordfence Security

## ‚úÖ –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞: `INSERT query failed: INSERT INTO stg_wffilemods...`

### –†–µ—à–µ–Ω–∏–µ

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç:**
   - https://gustolocal.es/fix-wordfence-scan.php
   - –°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π –∏ –¥–∞—Å—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

2. **–£–≤–µ–ª–∏—á—å—Ç–µ max_allowed_packet –≤ MySQL:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å:
   ```sql
   SET GLOBAL max_allowed_packet = 16777216;
   ```
   - –ò–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ —Ö–æ—Å—Ç–∏–Ω–≥ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 16MB –∏–ª–∏ –±–æ–ª—å—à–µ

3. **–û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã:**
   ```sql
   DELETE FROM stg_wffilemods 
   WHERE mtime < UNIX_TIMESTAMP(DATE_SUB(NOW(), INTERVAL 30 DAY));
   ```

---

## ‚öôÔ∏è –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ì–¥–µ:** `Wordfence ‚Üí Scan ‚Üí Manage Scan`

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: **60 —Å–µ–∫—É–Ω–¥** (–±—ã–ª–æ 15)
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –±–µ–∑ —Ç–∞–π–º–∞—É—Ç–æ–≤

2. **–ö–∞–∫–æ–π –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å Wordfence:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: **512 MB** (–±—ã–ª–æ 256)
   - –≠—Ç–æ –¥–∞—Å—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –Ω–∏–∑–∫–∏–º —É—Ä–æ–≤–Ω–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤:**
   - ‚úÖ **–í–ö–õ–Æ–ß–ï–ù–û**
   - –≠—Ç–æ —Å–Ω–∏–∑–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä

4. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è PHP:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: **600 —Å–µ–∫—É–Ω–¥** (10 –º–∏–Ω—É—Ç)

5. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:**
   - –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **10000**

### –ß—Ç–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å:

‚úÖ **–í–∫–ª—é—á–∏—Ç–µ:**
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö URL-–∞–¥—Ä–µ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ñ–∞–π–ª–∞—Ö WordPress, –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ —Ç–µ–º

‚ùå **–ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å (–µ—Å–ª–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):**
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö URL-–∞–¥—Ä–µ—Å–æ–≤ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤

---

## üîí –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä)

**–ì–¥–µ:** `Wordfence ‚Üí Firewall`

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–£—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã:**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞**
   - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –ª—É—á—à—É—é –∑–∞—â–∏—Ç—É –æ—Ç –∞—Ç–∞–∫

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - ‚úÖ **–í–ö–õ–Æ–ß–ï–ù–û**
   - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ IP –∞–¥—Ä–µ—Å–æ–≤:**
   - ‚úÖ **–í–ö–õ–Æ–ß–ï–ù–û**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö IP

---

## üõ°Ô∏è –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Rate Limiting (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤)

**–ì–¥–µ:** `Wordfence ‚Üí Firewall ‚Üí Rate Limiting`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–í–∫–ª—é—á–∏—Ç—å Rate Limiting:**
   - ‚úÖ **–í–ö–õ–Æ–ß–ï–ù–û**

2. **–ï—Å–ª–∏ IP –∞–¥—Ä–µ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç:**
   - –í—ã–±–µ—Ä–∏—Ç–µ: **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP –∞–¥—Ä–µ—Å**

3. **–ö–∞–∫ –¥–æ–ª–≥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: **1 —á–∞—Å** (–∏–ª–∏ –±–æ–ª—å—à–µ)

4. **–ü—Ä–∞–≤–∏–ª–∞ Rate Limiting:**

   **–û—à–∏–±–∫–∏ –≤—Ö–æ–¥–∞:**
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** `5` –ø–æ–ø—ã—Ç–æ–∫
   - **–ü–µ—Ä–∏–æ–¥:** `15` –º–∏–Ω—É—Ç

   **–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è:**
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** `3` –∑–∞–ø—Ä–æ—Å–∞
   - **–ü–µ—Ä–∏–æ–¥:** `60` –º–∏–Ω—É—Ç
   - ‚ö†Ô∏è –≠—Ç–æ –∑–∞—â–∏—Ç–∏—Ç –æ—Ç —Å–ø–∞–º–∞ –ø–∏—Å–µ–º –æ —Å–±—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è!

   **404 –æ—à–∏–±–∫–∏:**
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** `20` –æ—à–∏–±–æ–∫
   - **–ü–µ—Ä–∏–æ–¥:** `60` –º–∏–Ω—É—Ç

   **–ó–∞–ø—Ä–æ—Å—ã –∫ —Å–∞–π—Ç—É:**
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** `240` –∑–∞–ø—Ä–æ—Å–æ–≤
   - **–ü–µ—Ä–∏–æ–¥:** `60` –º–∏–Ω—É—Ç

---

## üîê –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Login Security (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–∞)

**–ì–¥–µ:** `Wordfence ‚Üí Login Security`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2FA):**
   - ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (Google Authenticator, Authy)

2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å-–∞—Ç–∞–∫:**
   - ‚úÖ **–í–ö–õ–Æ–ß–ï–ù–û**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

---

## üìä –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ì–¥–µ:** `Wordfence ‚Üí Tools ‚Üí Diagnostics ‚Üí Email Summary`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **Email Summary:**
   - ‚úÖ **–í–ö–õ–Æ–ß–ï–ù–û**
   - –ü–æ–ª—É—á–∞–π—Ç–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

2. **Alert Me:**
   - ‚úÖ –í–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:
     - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
     - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö IP –∞–¥—Ä–µ—Å–æ–≤
     - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û

---

## üßπ –®–∞–≥ 7: –û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. **–û—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã wffilemods:**
   ```sql
   DELETE FROM stg_wffilemods 
   WHERE mtime < UNIX_TIMESTAMP(DATE_SUB(NOW(), INTERVAL 30 DAY));
   ```

2. **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤:**
   - `Wordfence ‚Üí Tools ‚Üí Diagnostics`
   - –ù–∞–∂–º–∏—Ç–µ "Delete All Data" –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **.htaccess –∑–∞—â–∏—â–µ–Ω:**
   - –§–∞–π–ª `.htaccess` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
   - –ü—Ä–∞–≤–∏–ª–∞ Wordfence WAF –Ω–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö

2. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –æ—Å–Ω–æ–≤–µ
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ Wordfence –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
   - –û–±–Ω–æ–≤–ª—è–π—Ç–µ WordPress, —Ç–µ–º—ã –∏ –ø–ª–∞–≥–∏–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ

4. **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:**
   - –î–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –∫—Ä—É–ø–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
   - Wordfence –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

---

## üö® –ï—Å–ª–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫:**
   - `Wordfence ‚Üí Tools ‚Üí Diagnostics ‚Üí Debugging`
   - –í–∫–ª—é—á–∏—Ç–µ "Enable Debugging"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PHP:**
   - `memory_limit` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 512M
   - `max_execution_time` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 600 —Å–µ–∫—É–Ω–¥

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MySQL:**
   - `max_allowed_packet` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 16MB

4. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ö–æ—Å—Ç–∏–Ω–≥–∞:**
   - –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ, –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Ö–æ—Å—Ç–∏–Ω–≥–∞

